<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- TITLE (Most Important Ranking Factor) -->
  <title>Data Table : Leela Bazar – Fast Satta Matka Results, Charts & Live Updates</title>
  <!-- META DESCRIPTION (ONLY ONE) -->
  <meta name="description"
    content="Leela Bazar provides fast and accurate Satta Matka results, charts, lucky numbers and market updates. View Matka results in Hindi and English for informational purposes." />
  <!-- ROBOTS -->
  <meta name="robots" content="index, follow" />
  <!-- CANONICAL -->
  <link rel="canonical" href="https://leelabazar.in/" />
  <!-- FAVICON -->
  <link rel="icon" type="image/png" sizes="192x192" href="Logo.jpg" />
  <link rel="apple-touch-icon" href="Logo.jpg" />
  <!-- THEME COLOR -->
  <meta name="theme-color" content="#FED7AA" />
  <!-- OPEN GRAPH (SOCIAL PREVIEW) -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Leela Bazar – Satta Matka Results & Charts" />
  <meta property="og:description"
    content="Check fast Satta Matka results, charts and live updates at Leela Bazar. Informational Matka data only." />
  <meta property="og:url" content="https://leelabazar.in/" />
  <meta property="og:image" content="https://leelabazar.in/Logo.jpg" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- TWITTER CARD -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Leela Bazar – Satta Matka Results" />
  <meta name="twitter:description"
    content="Fast and accurate Satta Matka results, charts and updates. Hindi & English support." />
  <meta name="twitter:image" content="https://leelabazar.in/Logo.jpg" />
  <!-- LANGUAGE -->
  <meta http-equiv="content-language" content="en-IN" />
  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="apple-mobile-web-app-title" content="Leela Bazar" />
  <!-- FONTS & CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- STRUCTURED DATA (ONLY SAFE SCHEMA) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Leela Bazar",
    "url": "https://leelabazar.in",
    "description": "Leela Bazar provides informational Satta Matka results, charts and updates.",
    "inLanguage": ["en", "hi"]
  }
  </script>

</head>


<body class="bg-gray-100 font-[Inter]">

    <!-- HEADER -->
    <div onclick="window.location.href='index.html'" class="bg-orange-200 shadow rounded-b-2xl p-3 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <img src="Logo.jpg" class="w-10 h-10 rounded-full">
            <h1 class="font-extrabold text-xl">Leela Bazar</h1>
        </div>
    </div>

    <!-- COLUMN HEADER -->
    <div class="grid grid-cols-7 text-center text-[15px] px-3 font-bold border-b bg-yellow-300 py-[2px]">
        <div class="text-blue-700">DATE</div>
        <div>MON</div>
        <div>TUE</div>
        <div>WED</div>
        <div>THU</div>
        <div>FRI</div>
        <div>SAT</div>
    </div>

    <!-- DATA -->
    <div class="p-2 bg-black">
        <div id="recordsBody" class="p-1 bg-[#a229f4]"></div>
    </div>

    <!-- Tabes-->
    <section>

        <div id="img-morning-syndicate" class="hidden text-center w-full">
            <img src="img1.jpg" class="w-full">
        </div>

        <div id="img-kalyan-morning" class="hidden text-center w-full">
            <img src="/Assets/Kalyan/kalyana.jpg" class="w-full">
        </div>

        <div id="img-syndicate-night" class="hidden text-center w-full">
            <img src="img3.jpg" class="w-full">
        </div>

        <div id="img-leela-bazar" class="hidden text-center w-full">
            <img src="img4.jpg" class="w-full">
        </div>

        <div id="img-rajdhani-night" class="hidden text-center w-full">
            <img src="img5.jpg" class="w-full">
        </div>

        <div id="img-shaktimaan" class="hidden text-center w-full">
            <img src="img6.jpg" class="w-full">
        </div>

    </section>
    <script>
        const scriptURL = "https://script.google.com/macros/s/AKfycbyW6iFWJpgLR-oogi_GysEp_RXph9d9vaQ2idlMgsQQVAg3ee_XeKuqyI_HDyaqnwlG/exec";
        const params = new URLSearchParams(window.location.search);
        const ids = params.get("id");

        async function fetchRecords() {
            const res = await fetch(`${scriptURL}?action=read`);
            const data = await res.json();
            const body = document.getElementById("recordsBody");
            body.innerHTML = "";

            const renderedWeeks = new Set();

            data.records
                .filter(r => r.Category?.toLowerCase() === "single")
                .forEach(r => {

                    const date = new Date(r.Date);
                    const day = date.getDay();
                    const monday = new Date(date);
                    monday.setDate(date.getDate() - day + (day === 0 ? -6 : 1));
                    const weekKey = monday.toISOString().slice(0, 10);

                    if (renderedWeeks.has(weekKey)) return;
                    renderedWeeks.add(weekKey);

                    const weekRecords = data.records.filter(x => {
                        if (x.Category?.toLowerCase() !== "single") return false;
                        const d = new Date(x.Date);
                        const end = new Date(monday);
                        end.setDate(monday.getDate() + 6);
                        return d >= monday && d <= end;
                    });

                    body.innerHTML += `
        <div class="bg-white shadow overflow-x-auto">
    
          <div class="grid grid-cols-7 text-center text-[11px] ">
            ${renderWeekDays(monday, weekRecords)}
          </div>
        </div>
      `;
                });
        }

        function renderWeekDays(monday, weekRecords) {
            const days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
            const map = {};

            const startDate = new Date(monday);
            const endDate = new Date(monday);
            endDate.setDate(startDate.getDate() + 6);

            const dateText = `
             ${startDate.toISOString().slice(0, 10)}
                 <br>to<br>
              ${endDate.toISOString().slice(0, 10)}
                 `;

            weekRecords
                .filter(r => r.Id?.toLowerCase().trim() === ids?.toLowerCase().trim())
                .forEach(r => {
                    const idx = days.findIndex(
                        d => d.toLowerCase() === r.Day?.toLowerCase()
                    );
                    if (idx !== -1) map[idx] = r;
                });

            let html = `
    <div class="border p-[2px] font-semibold text-gray-600 text-[8px] leading-tight">
      ${dateText}
    </div>
  `;

            days.forEach((_, i) => {
                if (!map[i]) {
                    html += `<div class="border p-[2px] text-gray-600">-</div>`;
                } else {
                    const r = map[i];
                    html += `
<div class="flex items-center justify-center gap-1 border p-[2px] leading-tight text-center">

  <!-- JODI -->
  <div class="font-extrabold text-red-600 text-[8px] leading-[10px]">
    ${r.Jodi.split('').join('<br>')}
  </div>

  <!-- MARKS (PERFECT CENTER) -->
  <div class="flex items-center justify-center text-[16px]  text-[${r.Bcolor || "#000000"}]  font-extrabold min-w-[26px]">
    ${r.Marks}
  </div>

  <!-- PANEL -->
  <div class="font-semibold text-[8px] leading-[10px]">
    ${r.Pennel.split('').join('<br>')}
  </div>

</div>

      `;
                }
            });

            return html;
        }



        // Map for exact match
        const adMap = {
            "MORNING SYNDICATE": "img-morning-syndicate",
            "KALYAN MORNING": "img-kalyan-morning",
            "SYNDICATE NIGHT": "img-syndicate-night",
            "LEELA BAZAR": "img-leela-bazar",
            "RAJDHANI NIGHT": "img-rajdhani-night",
            "SHAKTIMAAN": "img-shaktimaan"
        };

        function showImageById(id) {
            // Hide all first
            document.querySelectorAll("[id^='img-']").forEach(el => el.classList.add("hidden"));

            // Show only if id matches adMap
            if (id && adMap[id]) {
                document.getElementById(adMap[id]).classList.remove("hidden");
            }
        }

        // Call immediately

        // Optional: refresh every 3s if ids can change dynamically
        setInterval(() => {
            showImageById(ids);
        }, 3000);
        fetchRecords();
        showImageById(ids);

    </script>

</body>

</html>